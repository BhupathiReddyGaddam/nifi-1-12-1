(function(a,b){if(typeof define==="function"&&define.amd){define(["jquery","d3","nf.Storage","nf.ErrorHandler","nf.Common","nf.Client","nf.CanvasUtils","nf.ng.Bridge","nf.Label"],function(f,j,g,i,c,k,d,h,e){return(nf.LabelConfiguration=b(f,j,g,i,c,k,d,h,e))})}else{if(typeof exports==="object"&&typeof module==="object"){module.exports=(nf.LabelConfiguration=b(require("jquery"),require("d3"),require("nf.Storage"),require("nf.ErrorHandler"),require("nf.Common"),require("nf.Client"),require("nf.CanvasUtils"),require("nf.ng.Bridge"),require("nf.Label")))}else{nf.LabelConfiguration=b(a.$,a.d3,a.nf.Storage,a.nf.ErrorHandler,a.nf.Common,a.nf.Client,a.nf.CanvasUtils,a.nf.ng.Bridge,a.nf.Label)}}}(this,function(e,i,f,h,b,j,c,g,d){var a="";return{init:function(){e("#label-configuration").modal({scrollableContentStyle:"scrollable",headerText:"Configure Label",buttons:[{buttonText:"Apply",color:{base:"#728E9B",hover:"#004849",text:"#ffffff"},handler:{click:function(){var o=this;var p=i.select("#id-"+a).datum();var n=e("#label-value").val();var q=e("#label-font-size").combo("getSelectedOption");var m={revision:j.getRevision(p),disconnectedNodeAcknowledged:f.isDisconnectionAcknowledged(),component:{id:a,label:n,style:{"font-size":q.value}}};e.ajax({type:"PUT",url:p.uri,data:JSON.stringify(m),dataType:"json",contentType:"application/json"}).done(function(r){d.set(r);g.digest();o.modal("hide")}).fail(h.handleConfigurationUpdateAjaxError)}}},{buttonText:"Cancel",color:{base:"#E3E8EB",hover:"#C7D2D7",text:"#004849"},handler:{click:function(){this.modal("hide")}}}],handler:{close:function(){a=""},open:function(){e("#label-value").focus()}}});var l=[];for(var k=12;k<=24;k+=2){l.push({text:k+"px",value:k+"px"})}e("#label-font-size").combo({options:l,selectedOption:{value:"12px"},select:function(n){var m=e("#label-value");m.css({"font-size":n.value,"line-height":n.value}).val(m.val())}})},showConfiguration:function(l){if(c.isLabel(l)){var n=l.datum();var k="";if(b.isDefinedAndNotNull(n.component.label)){k=n.component.label}var m="12px";if(b.isDefinedAndNotNull(n.component.style["font-size"])){m=n.component.style["font-size"]}a=n.id;e("#label-value").val(k);e("#label-font-size").combo("setSelectedOption",{value:m});e("#label-configuration").modal("show")}}}}));