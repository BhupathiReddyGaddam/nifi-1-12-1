(function(a,b){if(typeof define==="function"&&define.amd){define(["nf.CanvasUtils","nf.ContextMenu"],function(d,c){return(nf.ng.Canvas.ToolboxCtrl=b(d,c))})}else{if(typeof exports==="object"&&typeof module==="object"){module.exports=(nf.ng.Canvas.ToolboxCtrl=b(require("nf.CanvasUtils"),require("nf.ContextMenu")))}else{nf.ng.Canvas.ToolboxCtrl=b(a.nf.CanvasUtils,a.nf.ContextMenu)}}}(this,function(b,a){return function(l,e,h,c,j,k,g,i){function f(m,p,r,q,n,t,s,o){this.processorComponent=m;this.inputPortComponent=p;this.outputPortComponent=r;this.groupComponent=q;this.remoteGroupComponent=n;this.funnelComponent=t;this.templateComponent=s;this.labelComponent=o;this.config={type:{processor:"Processor",inputPort:"Input Port",outputPort:"Output Port",processGroup:"Process Group",remoteProcessGroup:"Remote Process Group",connection:"Connection",funnel:"Funnel",template:"Template",label:"Label"},urls:{api:"../nifi-api",controller:"../nifi-api/controller",processorTypes:"../nifi-api/flow/processor-types"}}}f.prototype={constructor:f,init:function(){l.modal.init();e.modal.init();h.modal.init();c.modal.init();j.modal.init();g.modal.init()},draggableComponentConfig:function(m){m.getElement().hover(function(){m.getElement().removeClass(m.icon).addClass(m.hoverIcon)},function(){m.getElement().removeClass(m.hoverIcon).addClass(m.icon)});return{zIndex:1011,revert:true,revertDuration:0,cancel:false,containment:"body",cursor:"-webkit-grabbing",start:function(o,n){a.hide()},stop:function(r,q){var t=b.getCanvasTranslate();var s=b.getCanvasScale();var p=r.originalEvent.pageX;var o=r.originalEvent.pageY-b.getCanvasOffset();if(p>=0&&o>=0){var n=(p/s)-(t[0]/s);var u=(o/s)-(t[1]/s);m.dropHandler.apply(m,[{x:n,y:u}])}},helper:m.dragIcon}}};var d=new f(l,e,h,c,j,k,g,i);return d}}));