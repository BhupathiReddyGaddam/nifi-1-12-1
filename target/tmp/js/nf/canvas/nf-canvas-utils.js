(function(a,b){if(typeof define==="function"&&define.amd){define(["d3","jquery","nf.Common","nf.ErrorHandler","nf.Dialog","nf.Clipboard","nf.Storage"],function(e,g,h,i,f,d,c){return(nf.CanvasUtils=b(e,g,h,i,f,d,c))})}else{if(typeof exports==="object"&&typeof module==="object"){module.exports=(nf.CanvasUtils=b(require("d3"),require("jquery"),require("nf.Common"),require("nf.ErrorHandler"),require("nf.Dialog"),require("nf.Clipboard"),require("nf.Storage")))}else{nf.CanvasUtils=b(a.d3,a.$,a.nf.Common,a.nf.ErrorHandler,a.nf.Dialog,a.nf.Clipboard,a.nf.Storage)}}}(this,function(q,a,g,d,j,e,c){var r;var n;var m;var h;var b;var f=q.map();var s=q.map();var p={storage:{namePrefix:"nifi-view-"},urls:{controller:"../nifi-api/controller"}};var i=2000;var o=2*Math.PI;var k=function(y,w){var v=0;var z=y-1;var x;var u=0;while(v<=z){x=~~((v+z)/2);u=w(x);if(u<0){z=x-1}else{if(u>0){v=x+1}else{break}}}return x};var t=function(v,u){return a.Deferred(function(x){var w=l.getGroupId();var y=m.marshal(v,w);m.create(y).done(function(z){m.move(z.snippet.id,u).done(function(){var B=q.map();var A=function(C,D){if(!B.has(C)){B.set(C,[])}B.get(C).push(D)};v.each(function(C){A(C.type,C.id)});B.each(function(D,C){l.getComponentByType(C).remove(D)});h.refresh();x.resolve()}).fail(d.handleAjaxError).fail(function(){x.reject()})}).fail(d.handleAjaxError).fail(function(){x.reject()})}).promise()};var l={init:function(y,w,v,x,u){r=y;n=w;m=v;h=x;b=u},config:{systemTooltipConfig:{style:{classes:"nifi-tooltip"},show:{solo:true,effect:false},hide:{effect:false},position:{at:"bottom right",my:"top left"}}},getComponentByType:function(u){return b.getComponentByType(u)},getPerimeterPoint:function(u,D){var v=Math.atan2(D.height,D.width);var A=D.width/2;var z=D.height/2;var y=D.x+A;var w=D.y+z;var E=u.x-y;var C=u.y-w;var x=Math.atan2(C,E);x=x%o;if(x<0){x+=o}var B=(Math.PI/2)-x;if((x>=0&&x<v)||(x>=(o-v)&&x<o)){return{x:D.x+D.width,y:w+Math.tan(x)*A}}else{if(x>=v&&x<(Math.PI-v)){return{x:y+Math.tan(B)*z,y:D.y+D.height}}else{if(x>=(Math.PI-v)&&x<(Math.PI+v)){return{x:D.x,y:w-Math.tan(x)*A}}else{return{x:y-Math.tan(B)*z,y:D.y}}}}},queryBulletins:function(w){var u=[];var v=function(B){var z=new URL(window.location);var x=g.substringBeforeLast(z.href,"/nifi");var D=x+"/nifi-api/flow/bulletin-board?"+a.param({sourceId:B.join("|")});if(D.length>i){var y=Math.ceil(B.length/2);var C=B.slice(0,y);if(C.length>0){v(C)}var A=B.slice(y);if(A.length>0){v(A)}}else{u.push(a.ajax({type:"GET",url:D,dataType:"json"}))}};v(w);if(u.length===1){return a.Deferred(function(x){u[0].done(function(y){x.resolve(y)}).fail(function(){x.reject()}).fail(d.handleAjaxError)}).promise()}else{return a.Deferred(function(x){a.when.apply(window,u).done(function(){var z=a.makeArray(arguments);var y=null;var A=[];a.each(z,function(D,B){var C=B[0];var E=C.bulletinBoard;if(y===null){y=E.generated}Array.prototype.push.apply(A,E.bulletins)});A.sort(function(C,B){return B.id-C.id});x.resolve({bulletinBoard:{generated:y,bulletins:A}})}).fail(function(){x.reject()}).fail(d.handleAjaxError)}).promise()}},showComponent:function(v,u){if(g.isDefinedAndNotNull(v)){var w=a.Deferred(function(x){if(v!==r.getGroupId()){r.reload({},v).done(function(){x.resolve()}).fail(function(A,y,z){j.showOkDialog({headerText:"Error",dialogContent:"Unable to load the group for the specified component."});x.reject(A,y,z)})}else{x.resolve()}}).promise();w.done(function(){var x=q.select("#id-"+u);if(!x.empty()){n.show(x)}else{j.showOkDialog({headerText:"Error",dialogContent:"Unable to find the specified component."})}});return w}else{return a.Deferred(function(x){x.reject()}).promise()}},showDeepLink:function(u){l.getSelection().classed("selected",false);if(a("#nf-ok-dialog").is(":visible")===true){a("#nf-ok-dialog").modal("hide")}if("URLSearchParams" in window){var x=new URL(window.location).searchParams;if(!nf.Common.isDefinedAndNotNull(x)){x=new URLSearchParams(new URL(window.location).search)}var v=l.getGroupId();if(nf.Common.isDefinedAndNotNull(x)){var w=[];if(x.get("processGroupId")){v=x.get("processGroupId")}if(x.get("componentIds")){w=x.get("componentIds").split(",")}if(w.length>=1){return l.showComponents(v,w,u)}else{return l.getComponentByType("ProcessGroup").enterGroup(v)}}else{return l.getComponentByType("ProcessGroup").enterGroup(v)}}},showComponents:function(v,x,u){if(g.isDefinedAndNotNull(v)){var w=a.Deferred(function(y){if(v!==r.getGroupId()||u){r.reload({},v).done(function(){y.resolve()}).fail(function(B,z,A){j.showOkDialog({headerText:"Error",dialogContent:"Unable to enter the selected group."});y.reject(B,z,A)})}else{y.resolve()}}).promise();w.done(function(){var y=q.selectAll("g.component, g.connection").filter(function(A){if(x.indexOf(A.id)>=0){x.splice(x.indexOf(A.id),1);return A}});if(x.length>0){var z=a("<p></p>").text("Specified component(s) not found: "+x.join(", ")+".").append("<br/><br/>").append(a("<p>Unable to select component(s).</p>"));j.showOkDialog({headerText:"Error",dialogContent:z})}n.show(y)});return w}},setURLParameters:function(w,x){if("URLSearchParams" in window){if(!g.isDefinedAndNotNull(w)){w=l.getGroupId()}if(!g.isDefinedAndNotNull(x)){x=l.getSelection()}var u=[];x.each(function(A){u.push(A.id)});var v=new URL(window.location);var z=new URL(window.location).searchParams;if(!nf.Common.isDefinedAndNotNull(z)){z=new URLSearchParams(v.search)}if(nf.Common.isDefinedAndNotNull(z)){var z=new URLSearchParams(v.search);z.set("processGroupId",w);z.set("componentIds",u.sort());var y=v.origin+v.pathname;if(g.isDefinedAndNotNull(l.getParentGroupId())||u.length>0){if(!g.isDefinedAndNotNull(l.getParentGroupId())){z.set("processGroupId","root")}if((v.origin+v.pathname+"?"+z.toString()).length<=i){y=v.origin+v.pathname+"?"+z.toString()}else{if(g.isDefinedAndNotNull(l.getParentGroupId())){z.set("componentIds","");y=v.origin+v.pathname+"?"+z.toString()}}}window.history.replaceState({previous_url:v.href},window.document.title,y)}}},getSelection:function(){return q.selectAll("g.component.selected, g.connection.selected")},getSelectionById:function(u){return q.select("#id-"+u)},getCenterForBoundingBox:function(v){var x=r.View.getScale();if(g.isDefinedAndNotNull(v.scale)){x=v.scale}var z=a("#canvas-container");var w=z.width()/x;var y=z.height()/x;var u=[(w/2)-(v.width/2),(y/2)-(v.height/2)];return u},isBoundingBoxInViewport:function(D,G){var A=r.View.getScale();var z=r.View.getTranslate();var C=r.CANVAS_OFFSET;var E=a("#canvas-container");var v=Math.floor(E.width()/A);var w=Math.floor(E.height()/A);var B=Math.ceil(-z[0]/A);var x=Math.ceil(-z[1]/A);var H=B+v;var J=x+w;var y=Math.ceil(D.x);var I=Math.floor(D.x+D.width);var F=Math.ceil(D.y-(C)/A);var u=Math.floor(D.y-(C/A)+D.height);if(G){return !(y<B||I>H||F<x||u>J)}else{return((y>B&&y<H)||(I<H&&I>B))&&((F>x&&F<J)||(u<J&&u>x))}},centerBoundingBox:function(v){var w=r.View.getScale();if(g.isDefinedAndNotNull(v.scale)){w=v.scale}var u=l.getCenterForBoundingBox(v);r.View.transform([(u[0]-v.x)*w,(u[1]-v.y)*w],w)},editable:function(u,v,w){if(l.canModify(u)){if(!u.classed("connectable")){u.call(v.activate)}if(!u.classed("moveable")){u.call(w.activate)}}else{if(u.classed("connectable")){u.call(v.deactivate)}if(u.classed("moveable")){u.call(w.deactivate)}}},transition:function(u,v){if(v&&!u.empty()){return u.transition().duration(400)}else{return u}},position:function(u,v){if(u.empty()){return}return l.transition(u,v).attr("transform",function(w){return"translate("+w.position.x+", "+w.position.y+")"})},ellipsis:function(w,y){y=y.trim();var v=parseInt(w.attr("width"),10);var x=w.node();w.text(y);if(y.length>0&&x.getSubStringLength(0,y.length-1)>v){v-=5;var u=k(y.length,function(z){var A=x.getSubStringLength(0,z);if(A>v){return -1}else{if(A<v){return 1}}return 0});w.text(y.substring(0,u)+String.fromCharCode(8230))}},multilineEllipsis:function(D,G,F){var w=1;var z=F.split(/\s+/).reverse();var C=parseInt(D.attr("x"),10);var B=parseInt(D.attr("y"),10);var v=parseInt(D.attr("width"),10);var H=[];var A=D.append("tspan").attrs({x:C,y:B,width:v});var u=z.pop();while(g.isDefinedAndNotNull(u)){H.push(u);A.text(H.join(" "));if(A.node().getComputedTextLength()>v){H.pop();A.text(H.join(" "));A=D.append("tspan").attrs({x:C,dy:"1.2em",width:v});if(++w>=G){var E=[u].concat(z.reverse());l.ellipsis(A,E.join(" "));break}else{A.text(u);H=[u]}}u=z.pop()}},activeThreadCount:function(w,z,A){var y=z.status.aggregateSnapshot.activeThreadCount;var u=z.status.aggregateSnapshot.terminatedThreadCount;if(y>0||u>0){var v=function(){var B=y+" active threads";if(u>0){B+=" ("+u+" terminated)"}return B};var x=w.select("text.active-thread-count").text(function(){if(u>0){return y+" ("+u+")"}else{return y}}).style("display","block").each(function(){var C=q.select(this);var B=this.getBBox();C.attr("x",function(){return z.dimensions.width-B.width-15});C.selectAll("title").remove()});x.append("title").text(v);w.select("text.active-thread-count-icon").attr("x",function(){var B=x.node().getBBox();if(typeof A==="function"){A(B.width+6)}return z.dimensions.width-B.width-20}).style("fill",function(){if(u>0){return"#ba554a"}else{return"#728e9b"}}).style("display","block").each(function(){var B=q.select(this);B.selectAll("title").remove()}).append("title").text(v)}else{w.selectAll("text.active-thread-count, text.active-thread-count-icon").style("display","none").each(function(){q.select(this).selectAll("title").remove()})}},disableImageHref:function(u){u.on("click.disableImageHref",function(){if(q.event.ctrlKey||q.event.shiftKey){q.event.preventDefault()}})},bulletins:function(u,A,B,z){z=g.isDefinedAndNotNull(z)?z:0;var x=q.select("#bulletin-tip-"+A.id);var w=false;if(!g.isEmpty(A.bulletins)){var y=g.getFormattedBulletins(A.bulletins);w=y.length>0;if(w){var v=g.formatUnorderedList(y)}}if(w){u.select("text.bulletin-icon").each(function(){if(x.empty()){x=B().append("div").attr("id",function(){return"bulletin-tip-"+A.id}).attr("class","tooltip nifi-tooltip")}x.html(function(){return a("<div></div>").append(v).html()});l.canvasTooltip(x,q.select(this))});u.select("text.bulletin-icon").style("visibility","visible");u.select("rect.bulletin-background").style("visibility","visible")}else{if(!x.empty()){x.remove()}u.select("text.bulletin-icon").style("visibility","hidden");u.select("rect.bulletin-background").style("visibility","hidden")}},canvasTooltip:function(u,v){v.on("mouseenter",function(){u.style("top",(q.event.pageY+15)+"px").style("left",(q.event.pageX+15)+"px").style("display","block")}).on("mousemove",function(){u.style("top",(q.event.pageY+15)+"px").style("left",(q.event.pageX+15)+"px")}).on("mouseleave",function(){u.style("display","none")})},canAlign:function(w){var v=true;var u=w.filter(function(y){var x=q.select(this);return l.isConnection(x)});if(w.size()-u.size()<2){v=false}if(l.canModify(w)===false){v=false}return v},isColorable:function(w){if(w.empty()){return false}if(l.canRead(w)===false||l.canModify(w)===false){return false}var v=w.filter(function(A){var z=q.select(this);return l.isProcessor(z)&&l.canModify(z)});var y=w.filter(function(A){var z=q.select(this);return l.isLabel(z)&&l.canModify(z)});var u=v.size()===w.size();var x=y.size()===w.size();return u||x},isConnection:function(u){return u.classed("connection")},isRemoteProcessGroup:function(u){return u.classed("remote-process-group")},isProcessor:function(u){return u.classed("processor")},isLabel:function(u){return u.classed("label")},isInputPort:function(u){return u.classed("input-port")},isOutputPort:function(u){return u.classed("output-port")},isProcessGroup:function(u){return u.classed("process-group")},isFunnel:function(u){return u.classed("funnel")},areRunnable:function(u){if(u.empty()){return true}var v=true;u.each(function(){if(!l.isRunnable(q.select(this))){v=false;return false}});return v},isRunnable:function(u){if(u.size()!==1){return false}if(l.isProcessGroup(u)){return true}if(l.canOperate(u)===false){return false}var w=false;var v=u.datum();if(l.isProcessor(u)||l.isInputPort(u)||l.isOutputPort(u)){w=l.supportsModification(u)&&v.status.aggregateSnapshot.runStatus==="Stopped"}return w},areStoppable:function(u){if(u.empty()){return true}var v=true;u.each(function(){if(!l.isStoppable(q.select(this))){v=false;return false}});return v},isStoppable:function(u){if(u.size()!==1){return false}if(l.isProcessGroup(u)){return true}if(l.canOperate(u)===false){return false}var w=false;var v=u.datum();if(l.isProcessor(u)||l.isInputPort(u)||l.isOutputPort(u)){w=v.status.aggregateSnapshot.runStatus==="Running"}return w},filterEnable:function(u){return u.filter(function(x){var v=q.select(this);var w=v.datum();if(l.isProcessGroup(v)){return true}if(l.canOperate(v)===false){return false}return((l.isProcessor(v)||l.isInputPort(v)||l.isOutputPort(v))&&l.supportsModification(v)&&w.status.aggregateSnapshot.runStatus==="Disabled")})},canEnable:function(u){if(u.empty()){return true}return l.filterEnable(u).size()===u.size()},filterDisable:function(u){return u.filter(function(x){var v=q.select(this);var w=v.datum();if(l.isProcessGroup(v)){return true}if(l.canOperate(v)===false){return false}return((l.isProcessor(v)||l.isInputPort(v)||l.isOutputPort(v))&&l.supportsModification(v)&&(w.status.aggregateSnapshot.runStatus==="Stopped"||w.status.aggregateSnapshot.runStatus==="Invalid"))})},canDisable:function(u){if(u.empty()){return true}return l.filterDisable(u).size()===u.size()},canAllStartTransmitting:function(u){if(u.empty()){return false}var v=true;u.each(function(){if(!l.canStartTransmitting(q.select(this))){v=false}});return v},canStartTransmitting:function(u){if(u.size()!==1){return false}if((l.canModify(u)===false||l.canRead(u)===false)&&l.canOperate(u)===false){return false}return l.isRemoteProcessGroup(u)},canAllStopTransmitting:function(u){if(u.empty()){return false}var v=true;u.each(function(){if(!l.canStopTransmitting(q.select(this))){v=false}});return v},canStopTransmitting:function(u){if(u.size()!==1){return false}if((l.canModify(u)===false||l.canRead(u)===false)&&l.canOperate(u)===false){return false}return l.isRemoteProcessGroup(u)},areDeletable:function(u){if(u.empty()){return false}var v=true;u.each(function(){if(!l.isDeletable(q.select(this))){v=false}});return v},isDeletable:function(u){if(u.size()!==1){return false}if(r.canWrite()===false){return false}if(l.canModify(u)===false){return false}return l.supportsModification(u)},isConfigurable:function(u){if(u.size()!==1){if(u.empty()){return true}else{return false}}if(l.isProcessGroup(u)){return true}if(l.canRead(u)===false||l.canModify(u)===false){return false}if(l.isFunnel(u)){return false}return l.supportsModification(u)},hasDetails:function(u){if(u.size()!==1){return false}if(l.canRead(u)===false){return false}if(l.canModify(u)){if(l.isProcessor(u)||l.isInputPort(u)||l.isOutputPort(u)||l.isRemoteProcessGroup(u)||l.isConnection(u)){return !l.isConfigurable(u)}}else{return l.isProcessor(u)||l.isConnection(u)||l.isInputPort(u)||l.isOutputPort(u)||l.isRemoteProcessGroup(u)}return false},canManagePolicies:function(){var u=l.getSelection();if(u.size()<=1){if(!u.empty()&&l.isConnection(u)){return false}return g.canAccessTenants()}return false},canModify:function(w){var v=w.size();var u=w.filter(function(x){return x.permissions.canWrite}).size();return v===u},canRead:function(v){var u=v.size();var w=v.filter(function(x){return x.permissions.canRead}).size();return u===w},canOperate:function(w){var v=w.size();var u=w.filter(function(x){return x.permissions.canWrite||(x.operatePermissions&&x.operatePermissions.canWrite)}).size();return v===u},supportsModification:function(B){if(B.size()!==1){return false}var z=B.datum();var x=false;if(l.isProcessor(B)||l.isInputPort(B)||l.isOutputPort(B)){x=!(z.status.aggregateSnapshot.runStatus==="Running"||z.status.aggregateSnapshot.activeThreadCount>0)}else{if(l.isRemoteProcessGroup(B)){x=!(z.status.transmissionStatus==="Transmitting"||z.status.aggregateSnapshot.activeThreadCount>0)}else{if(l.isProcessGroup(B)){x=true}else{if(l.isFunnel(B)){x=true}else{if(l.isLabel(B)){x=true}else{if(l.isConnection(B)){var A=false;var v=false;var C=l.getConnectionSourceComponentId(z);var u=q.select("#id-"+C);if(!u.empty()){if(l.isRemoteProcessGroup(u)||l.isProcessGroup(u)){A=true}else{A=l.supportsModification(u)}}var w=l.getConnectionDestinationComponentId(z);var y=q.select("#id-"+w);if(!y.empty()){if(l.isRemoteProcessGroup(y)||l.isProcessGroup(y)){v=true}else{v=l.supportsModification(y)}}x=A&&v}}}}}}return x},getConnectableTypeForSource:function(v){var u;if(l.isProcessor(v)){u="PROCESSOR"}else{if(l.isRemoteProcessGroup(v)){u="REMOTE_OUTPUT_PORT"}else{if(l.isProcessGroup(v)){u="OUTPUT_PORT"}else{if(l.isInputPort(v)){u="INPUT_PORT"}else{if(l.isFunnel(v)){u="FUNNEL"}}}}}return u},getConnectableTypeForDestination:function(v){var u;if(l.isProcessor(v)){u="PROCESSOR"}else{if(l.isRemoteProcessGroup(v)){u="REMOTE_INPUT_PORT"}else{if(l.isProcessGroup(v)){u="INPUT_PORT"}else{if(l.isOutputPort(v)){u="OUTPUT_PORT"}else{if(l.isFunnel(v)){u="FUNNEL"}}}}}return u},isCopyable:function(v){if(v.empty()){return false}if(l.canRead(v)===false){return false}var u=v.filter(function(z){var x=q.select(this);if(l.isConnection(x)){var w=!v.filter(function(A){var B=l.getConnectionSourceComponentId(z);return B===A.id}).empty();var y=!v.filter(function(A){var B=l.getConnectionDestinationComponentId(z);return B===A.id}).empty();return w&&y}else{return l.isProcessor(x)||l.isFunnel(x)||l.isLabel(x)||l.isProcessGroup(x)||l.isRemoteProcessGroup(x)||l.isInputPort(x)||l.isOutputPort(x)}});return v.size()===u.size()},isPastable:function(){return r.canWrite()&&e.isCopied()},persistUserView:function(){var u=p.storage.namePrefix+r.getGroupId();var w=r.View.getTranslate();var v={scale:r.View.getScale(),translateX:w[0],translateY:w[1]};c.setItem(u,v)},formatConnectionName:function(u){if(!g.isBlank(u.name)){return u.name}else{if(g.isDefinedAndNotNull(u.selectedRelationships)){return u.selectedRelationships.join(", ")}}return""},reloadConnectionSourceAndDestination:function(x,w){if(g.isBlank(x)===false){var v=q.select("#id-"+x);if(v.empty()===false){b.reload(v)}}if(g.isBlank(w)===false){var u=q.select("#id-"+w);if(u.empty()===false){b.reload(u)}}},getConnectionSourceComponentId:function(u){var v=u.sourceId;if(u.sourceGroupId!==r.getGroupId()){v=u.sourceGroupId}return v},getConnectionDestinationComponentId:function(u){var v=u.destinationId;if(u.destinationGroupId!==r.getGroupId()){v=u.destinationGroupId}return v},restoreUserView:function(){var w=false;try{var u=p.storage.namePrefix+r.getGroupId();var v=c.getItem(u);if(g.isDefinedAndNotNull(v)){if(isFinite(v.scale)&&isFinite(v.translateX)&&isFinite(v.translateY)){r.View.transform([v.translateX,v.translateY],v.scale);w=true}}}catch(x){}return w},getOrigin:function(v){var u={};v.each(function(x){var w=q.select(this);if(!l.isConnection(w)){if(g.isUndefined(u.x)||x.position.x<u.x){u.x=x.position.x}if(g.isUndefined(u.y)||x.position.y<u.y){u.y=x.position.y}}});return u},getSelectionBoundingClientRect:function(u){var y=r.View.getScale();var x=r.View.getTranslate();var w={x:Number.MAX_VALUE,y:Number.MAX_VALUE,right:Number.MIN_VALUE,bottom:Number.MIN_VALUE,translate:r.View.getTranslate()};var v=u.nodes().reduce(function(B,A){var z=A.getBoundingClientRect();B.x=Math.min(z.x,B.x);B.y=Math.min(z.y,B.y);B.right=Math.max(z.right,B.right);B.bottom=Math.max(z.bottom,B.bottom);return B},w);v.x=(v.x-x[0])/y;v.y=(v.y-x[1])/y;v.right=(v.right-x[0])/y;v.bottom=(v.bottom-x[1])/y;v.width=v.right-v.x;v.height=v.bottom-v.y;v.top=v.y;v.left=v.x;return v},translateBoundingClientRect:function(v,u){if(g.isUndefinedOrNull(u)){if(g.isDefinedAndNotNull(v.translate)){u=v.translate}else{u=r.View.getTranslate()}}return{x:v.x-u[0],y:v.y-u[1],left:v.left-u[0],right:v.right-u[0],top:v.top-u[1],bottom:v.bottom-u[1],width:v.width,height:v.height}},moveComponentsToParent:function(v){var u=r.getParentGroupId();if(u===null){j.showOkDialog({headerText:"Process Group",dialogContent:"Components are already in the topmost group."})}else{t(v,u)}},moveComponents:function(v,w){var u=w.datum();t(v,u.id).done(function(){l.getComponentByType("ProcessGroup").reload(u.id)})},trimDanglingEdges:function(u){var v=function(w){var A=l.getConnectionSourceComponentId(w);var z=l.getConnectionDestinationComponentId(w);var y=false;var x=false;u.each(function(B){if(B.id===A){y=true}if(B.id===z){x=true}});return y&&x};return u.filter(function(w){if(w.type==="Connection"){return v(w)}else{return true}})},isValidConnectionSource:function(u){if(u.size()!==1){return false}if(l.isProcessGroup(u)){return true}if(l.canRead(u)===false||l.canModify(u)===false){return false}return l.isProcessor(u)||l.isRemoteProcessGroup(u)||l.isInputPort(u)||l.isFunnel(u)},isValidConnectionDestination:function(v){if(v.size()!==1){return false}if(l.isProcessGroup(v)){return true}if(l.canModify(v)===false){return false}if(l.isRemoteProcessGroup(v)||l.isOutputPort(v)||l.isFunnel(v)){return true}if(l.isProcessor(v)){var u=v.datum();return u.inputRequirement!=="INPUT_FORBIDDEN"}},isManagedAuthorizer:function(){return r.isManagedAuthorizer()},isConfigurableAuthorizer:function(){return r.isConfigurableAuthorizer()},isConfigurableUsersAndGroups:function(){return r.isConfigurableUsersAndGroups()},addComponentRestrictions:function(u,v){u.each(function(w,x){if(!f.has(x)){f.set(x,[])}w.forEach(function(y){f.get(x).push(y)})});v.each(function(w,x){if(!s.has(x)){s.set(x,w)}})},getComponentRestrictions:function(){return{restrictedUsage:f,requiredPermissions:s}},setGroupId:function(u){return r.setGroupId(u)},getGroupId:function(){return r.getGroupId()},setParameterContext:function(u){return r.setParameterContext(u)},getParameterContext:function(){return r.getParameterContext()},getGroupName:function(){return r.getGroupName()},getParentGroupId:function(){return r.getParentGroupId()},reload:function(u){return r.reload({transition:true},u)},canReadCurrentGroup:function(){return r.canRead()},canWriteCurrentGroup:function(){return r.canWrite()},getCanvasScale:function(){return r.View.getScale()},getCanvasTranslate:function(){return r.View.getTranslate()},translateCanvas:function(u){r.View.translate(u)},fitCanvas:function(){return r.View.fit()},zoomInCanvas:function(){return r.View.zoomIn()},zoomOutCanvas:function(){return r.View.zoomOut()},actualSizeCanvas:function(){return r.View.actualSize()},shouldRenderPerScale:function(){return r.View.shouldRenderPerScale()},getCanvasOffset:function(){return r.CANVAS_OFFSET}};return l}));