(function(a,b){if(typeof define==="function"&&define.amd){define(["d3","nf.ng.Bridge","nf.ContextMenu","nf.CanvasUtils"],function(f,d,c,e){return(nf.Selectable=b(f,d,c,e))})}else{if(typeof exports==="object"&&typeof module==="object"){module.exports=(nf.Selectable=b(require("d3"),require("nf.ng.Bridge"),require("nf.ContextMenu"),require("nf.CanvasUtils")))}else{nf.Selectable=b(a.d3,a.nf.ng.Bridge,a.nf.ContextMenu,a.nf.CanvasUtils)}}}(this,function(d,b,a,c){var e={select:function(f){a.hide();if(!f.classed("selected")){if(!d.event.shiftKey){d.selectAll("g.selected").classed("selected",false)}f.classed("selected",true)}else{if(d.event.shiftKey){f.classed("selected",false)}}b.digest();d.event.stopPropagation()},activate:function(f){f.on("mousedown.selection",function(){e.select(d.select(this));c.setURLParameters()})}};return e}));