(function(a,b){if(typeof define==="function"&&define.amd){define(["jquery","nf.Client","nf.Birdseye","nf.Storage","nf.Graph","nf.CanvasUtils","nf.ErrorHandler","nf.Label"],function(h,e,g,d,c,f,i,j){return(nf.ng.LabelComponent=b(h,e,g,d,c,f,i,j))})}else{if(typeof exports==="object"&&typeof module==="object"){module.exports=(nf.ng.LabelComponent=b(require("jquery"),require("nf.Client"),require("nf.Birdseye"),require("nf.Storage"),require("nf.Graph"),require("nf.CanvasUtils"),require("nf.ErrorHandler"),require("nf.Label")))}else{nf.ng.LabelComponent=b(a.$,a.nf.Client,a.nf.Birdseye,a.nf.Storage,a.nf.Graph,a.nf.CanvasUtils,a.nf.ErrorHandler,a.nf.Label)}}}(this,function(f,c,e,b,a,d,g,h){return function(k){function j(){this.icon="icon icon-label";this.hoverIcon="icon icon-label-add"}j.prototype={constructor:j,getElement:function(){return f("#label-component")},enabled:function(){this.getElement().attr("disabled",false)},disabled:function(){this.getElement().attr("disabled",true)},dropHandler:function(l){this.createLabel(l)},dragIcon:function(l){return f('<div class="icon icon-label-add"></div>')},createLabel:function(m){var l={revision:c.getRevision({revision:{version:0}}),disconnectedNodeAcknowledged:b.isDisconnectionAcknowledged(),component:{width:h.config.width,height:h.config.height,position:{x:m.x,y:m.y}}};f.ajax({type:"POST",url:k.headerCtrl.toolboxCtrl.config.urls.api+"/process-groups/"+encodeURIComponent(d.getGroupId())+"/labels",data:JSON.stringify(l),dataType:"json",contentType:"application/json"}).done(function(n){a.add({labels:[n]},{selectAll:true});a.updateVisibility();e.refresh()}).fail(g.handleAjaxError)}};var i=new j();return i}}));